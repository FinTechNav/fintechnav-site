<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Google Pay Integration Test</title>
 
    <!-- Load iPOSpays Google Pay SDK -->
    <script src="https://payment.ipospays.tech/ftd/v1/gpay-ftd.js" security_key="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0cG4iOiIyMjA5MjUyNzkwNTYiLCJlbWFpbCI6InNvbW1AaGVhdnlwb3Vyd2luZS5jb20iLCJtZXJjaGFudElkIjoiZGRmYThjODQtZDIwYy00MmE3LWI0MGQtNTI0NWJjZWMzODJhIiwidmVyc2lvbiI6InYyIiwiaWF0IjoxNzYzNDEwNTkxfQ.6EEyaiynshC8rvG8RgTKvSUMnny2hBZc920MOews0fQ"></script>
  </head>
  <body>
    <h1>Google Pay Test</h1>
    
    <!-- Container where the Google Pay button will be rendered -->
    <div id="ipospays-gpay-btn"></div>
 
    <script>
      /**
       * Transaction information
       * - Defines purchase details like price, currency, and country
       */
      const transactionInfo = {
        countryCode: "US",          // 2-letter country code
        currencyCode: "USD",        // ISO currency code
        totalPriceStatus: "FINAL",  // Can be ESTIMATED or FINAL
        totalPrice: "12.00",        // Amount to be charged
        totalPriceLabel: "Total",   // Label displayed on checkout
      };
 
      /**
       * Merchant settings
       * - merchantId: Your assigned Google Pay Merchant ID
       * - Mode: "TEST" or "PRODUCTION"
       */
      const merchantId = "N/A"; // Replace with your actual Merchant ID in production
      const Mode = "TEST";      // Use TEST for sandbox integration
 
      /**
       * Google Pay button styling
       * - Customize the look & feel of the payment button
       */
      const buttonStyles = {
        buttonColor: "default",   // Options: default, black, white
        buttonType: "buy",        // Options: buy, checkout, plain, order
        buttonRadius: 4,          // Border radius in pixels
        buttonLocale: "en",       // Locale for button text
        buttonHeight: "40px",     // Height of the button
        buttonWidth: "240px",     // Width of the button
      };
 
      /**
       * Additional Google Pay fields
       * - Enable/disable checkout fields based on business needs
       */
      const goolePayFelids = {
        requestBillingAddress: true,    // true = require billing address
        requestPayerEmail: true,        // true = require customer email
        requestPayerPhone: false,       // true = require customer phone
        requestShipping: false,         // true = require shipping address
      };
 
      /**
       * Callback function
       * - Receives payment token after customer authorizes Google Pay
       * - You must send this token securely to your backend
       */
      function getPaymentInfo(paymentData) {
        console.log("Received Payment Token (Raw):", paymentData);
        alert("Payment data received! Check console for details.");
        // TODO: Send `paymentData` to your server for processing
      }
 
      /**
       * Initialize Google Pay
       * - Renders Google Pay button
       * - Configures transaction info, merchant, mode, style, and fields
       */
      console.log('Initializing Google Pay...');
      initializeGooglePay(transactionInfo, merchantId, Mode, buttonStyles, goolePayFelids);
      console.log('Google Pay initialized');
    </script>
  </body>
</html>